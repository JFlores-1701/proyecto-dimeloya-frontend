<!-- CABECERA DEL MODAL-->
<div class="modal-header text-white" style="background-color: #cf755a;">
  <p class="modal-title" id="modal-basic-title">Registra tu opinión</p>
  <button type="button" class="btn-close" aria-label="Close" (click)="cerrar()">
  </button>
</div>

<!-- CUERPO DEL MODAL -->
<div class="modal-body">

  <form [formGroup]="formResenia" novalidate>

    <div class="form-floating mb-1">

      <textarea class="form-control mb-2" placeholder="Leave a comment here" id="floatingTextarea2"
        style="height: 130px; max-height: 120px;" maxlength="180" rows="4" formControlName="comentarios"
        (keyup)="contarChars($event)"
        [class.is-invalid]="fieldComentarios?.invalid && fieldComentarios?.touched"></textarea>
      <label for="floatingTextarea2">¿Cuál fue tu experiencia en este local?</label>

      <div class='invalid-feedback' *ngIf='fieldComentarios?.invalid'>
        <ng-container *ngIf="fieldComentarios?.hasError('required')">
          {{msg}}
        </ng-container>
        <ng-container *ngIf="fieldComentarios?.hasError('pattern')">
          No se aceptan números o caracteres especiales
        </ng-container>
      </div>

      <!-- CANT. CARACTERES -->
      <div class="d-flex justify-content-end">
        <span class="text-muted mb-3">{{ cantChars }}/180</span>
      </div>

    </div>

    <div class="d-flex justify-content-center">
      <label>¿Cuántas estrellas les das?</label>
    </div>

    <!-- CALIF. ESTRELLAS -->
    <div class="d-flex justify-content-center">
      <button mat-icon-button color="warn" *ngFor="let r of ratingArr; index as i" (click)="onClick(i)">
        <mat-icon class="yellow-icon">
          {{ returnStar(i) }}
        </mat-icon>
      </button>
    </div>

  </form>

</div>

<!-- MODAL FOOTER -->
<div class="modal-footer d-flex justify-content-center">
  <button class="btn btn-primary px-4" style="background-color: #cf755a; border: #cf755a;"
    (click)="registrarOpinion()">Registrar</button>
  <button class="btn btn-secondary px-4" (click)="cerrar()">Cancelar</button>
</div>
